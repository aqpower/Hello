---
title: å±…ç„¶è¿˜å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾æ±‚è§£ï¼
date: 2022-07-14 15:25:33
tags: ç®—æ³•
---
åçŸ¥åè§‰æŸç§é¢˜å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾æ±‚è§£ï¼Œæ­¤æ–‡è®°å½•ä¸‹æ¥ã€‚
<!--more-->
# Problem B. Friends and Presents
*[CodeForces 483B](https://codeforces.com/problemset/problem/483/B)*
You have two friends. You want to present each of them several positive integers. You want to present cnt1 numbers to the first friend and cnt2 numbers to the second friend. Moreover, you want all presented numbers to be distinct, that also means that no number should be presented to both friends.

In addition, the first friend does not like the numbers that are divisible without remainder by prime number x. The second one does not like the numbers that are divisible without remainder by prime number y. Of course, you're not going to present your friends numbers they don't like.

Your task is to find such minimum number v, that you can form presents using numbers from a set 1,â€‰2,â€‰...,â€‰v. Of course you may choose not to present some numbers at all.

A positive integer number greater than 1 is called prime if it has no positive divisors other than 1 and itself.

## Input
The only line contains four positive integers cnt1, cnt2, x, y (1â€‰â‰¤â€‰cnt1,â€‰cnt2â€‰<â€‰10^9; cnt1â€‰+â€‰cnt2â€‰â‰¤â€‰10^9; 2â€‰â‰¤â€‰xâ€‰<â€‰yâ€‰â‰¤â€‰3Â·10^4) â€” the numbers that are described in the statement. It is guaranteed that numbers x, y are prime.

## Output
Print a single integer â€” the answer to the problem.

## Examples
input A

```
3 1 2 3
```
output A
```
5
```
input B
```
1 3 2 3
```
output B
```
4ğŸ§°
```
## Note
In the first sample you give the set of numbers {1,â€‰3,â€‰5} to the first friend and the set of numbers {2} to the second friend. Note that if you give set {1,â€‰3,â€‰5} to the first friend, then we cannot give any of the numbers 1, 3, 5 to the second friend.

In the second sample you give the set of numbers {3} to the first friend, and the set of numbers {1,â€‰2,â€‰4} to the second friend. Thus, the answer to the problem is 4.
## çŸ¥è¯†é¢„å¤‡
1. å¯¹äº1 ~ vçš„åŒºé—´ï¼Œxçš„å€æ•°çš„ä¸ªæ•°æœ‰ v  / x ä¸ª
2. äºŒåˆ†æŸ¥æ‰¾

é¢˜ç›®å¤§æ„æ˜¯è¯´ç»™å‡ºå››ä¸ªæ•° x, y, cnt1, cnt2, 1 ~ v ä¸­èƒ½å¤Ÿ`æœ‰ cnt1 ä¸ªæ•°ä¸èƒ½è¢« x æ•´é™¤ï¼Œcnt2 ä¸ªæ•°ä¸èƒ½è¢« y æ•´é™¤`ï¼Œå¹¶ä¸”cnt1 å’Œ cnt2 è¿™ä¸¤ç±»æ•°ä¸èƒ½é‡å¤ï¼Œæ±‚æ»¡è¶³æ¡ä»¶çš„æœ€å°çš„ v ã€‚

èƒ½è¢«xæ•´é™¤çš„æ•°æœ‰ v / x ä¸ªï¼Œä¸èƒ½è¢«xæ•´é™¤çš„æœ‰ v - v/x ä¸ªï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦v - v/x >= cnt1
èƒ½è¢«yæ•´é™¤çš„æ•°æœ‰ v / y ä¸ªï¼Œä¸èƒ½è¢«xæ•´é™¤çš„æœ‰ v - v/y ä¸ªï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦v - v/y >= cnt2

> **è€ƒè™‘åˆ°æœ‰äº›æ•°æ—¢èƒ½è¢«x æ•´é™¤ï¼Œåˆèƒ½è¢«yæ•´é™¤ï¼Œå¯èƒ½ä¼šè¢«é‡å¤ç®—è¿›å»ï¼Œä»è€Œè¾¾ä¸åˆ°é¢˜æ„è¦æ±‚ã€‚**

èƒ½è¢« x å’Œ y æ•´é™¤çš„æ•°å…±æœ‰ v/x/y ä¸ªï¼Œé‚£ä¹ˆæˆ‘ä»¬æœ€å°‘è¦ä¿è¯ v - v/x/y >= cnt1 + cnt2ï¼Œä¹Ÿå°±æ˜¯å“ªæ€•xå’Œyç›¸ç­‰ä¹Ÿèƒ½æ»¡è¶³é¢˜æ„ã€‚

ä¸éš¾ç†è§£éšç€ v çš„å¢å¤§ï¼Œä¸Šè¿°è¡¨è¾¾å¼å…·å¤‡æ˜æ˜¾çš„å•è°ƒæ€§ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨äºŒåˆ†æ³•å»åšã€‚
ä¸‹ç•Œè®¾ç½®ä¸º1ï¼Œä¸Šç•Œå½±å“ä¸å¤§ï¼Œè®¾ç½®çš„å°½å¯èƒ½å¤§å°±è¡Œï¼Œç”±äºäºŒåˆ†çš„é«˜æ•ˆå¹¶ä¸ä¼šå½±å“è¿è¡Œé€Ÿç‡ã€‚

## Solutions

```c++
#include <bits/stdc++.h>
using namespace std;

int main(){
    ios::sync_with_stdio(false);
    int cnt1, cnt2, x, y;
    cin >> cnt1 >> cnt2 >> x >> y;
    int left = 1, right = (int)1e10; (å…³äºrightçš„å–å€¼æˆ‘å–çš„1e10ï¼Œæ„Ÿè§‰å½±å“ä¸å¤§ï¼Œå“ªæ€•å– LONG_LONG_MAX éƒ½è¡Œ)
    while(left < right){
        int mid = left + ((right - left) >> 1);
        if((mid - mid/x >= cnt1) && (mid - mid/y >= cnt2) && (mid - mid/x/y >= cnt1+cnt2)){
            right = mid;
        } else {
            left = mid + 1;
        }
    }
    cout << left << '\n';
    return 0;
}
```

# Problems C. Number of Pairs
*[CodeForces 1538C](https://codeforces.com/problemset/problem/1538/C)*
You are given an array a of n integers. Find the number of pairs (i,j) (1â‰¤i<jâ‰¤n) where the sum of ai+aj is greater than or equal to l and less than or equal to r (that is, lâ‰¤ai+ajâ‰¤r).

For example, if n=3, a=[5,1,2], l=4 and r=7, then two pairs are suitable:

i=1 and j=2 (4â‰¤5+1â‰¤7);
i=1 and j=3 (4â‰¤5+2â‰¤7).
## Input
The first line contains an integer t (1â‰¤tâ‰¤104). Then t test cases follow.

The first line of each test case contains three integers n,l,r (1â‰¤nâ‰¤2â‹…105, 1â‰¤lâ‰¤râ‰¤109) â€” the length of the array and the limits on the sum in the pair.

The second line contains n integers a1,a2,â€¦,an (1â‰¤aiâ‰¤109).

It is guaranteed that the sum of n overall test cases does not exceed 2â‹…105.

## Output
For each test case, output a single integer â€” the number of index pairs (i,j) (i < j), such that   lâ‰¤ai+ajâ‰¤r.

é¢˜æ„å¤§æ¦‚æ˜¯è¯´ç»™å‡ºä¸€ç»„æ•°ï¼Œé—®æ»¡è¶³ä¸¤æ•°ai,  ajä¹‹å’Œåœ¨æŸä¸ªåŒºé—´ä¸”j > i çš„æ•°å¯¹å…±æœ‰å¤šå°‘ä¸ªã€‚
## Solutions
```c++
#include <bits/stdc++.h>
using namespace std;
const int maxn = 2e5 + 5;
typedef long long ll;
ll a[maxn];
int main(){
    ios::sync_with_stdio(false);
    ll t;
    cin >> t;
    while(t--){
        ll n, l, r;
        cin >> n >> l >> r;
        for (ll i = 0; i < n;i++){
            cin >> a[i];
        }
        sort(a, a + n);
        ll ans = 0;
        for (ll i = 0; i < n;i++){
            if(a[i] < r){
                ll x = lower_bound(a + i + 1, a + n, l - a[i]) - a;
                ll y = upper_bound(a + i + 1, a + n, r - a[i]) - a;
                ans += y - x;
            } else {
                break;
            }
        }
        cout << ans << '\n';
    }
    return 0;
}
```
